<svg aria-roledescription="classDiagram" viewBox="9.5367431640625e-7 0.0000019073486328125 1313.6156005859375 1137.4000244140625" style="max-width: 1313.6156005859375px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="render_svg_8947"><style>#render_svg_8947{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#render_svg_8947 .error-icon{fill:#552222;}#render_svg_8947 .error-text{fill:#552222;stroke:#552222;}#render_svg_8947 .edge-thickness-normal{stroke-width:2px;}#render_svg_8947 .edge-thickness-thick{stroke-width:3.5px;}#render_svg_8947 .edge-pattern-solid{stroke-dasharray:0;}#render_svg_8947 .edge-pattern-dashed{stroke-dasharray:3;}#render_svg_8947 .edge-pattern-dotted{stroke-dasharray:2;}#render_svg_8947 .marker{fill:#333333;stroke:#333333;}#render_svg_8947 .marker.cross{stroke:#333333;}#render_svg_8947 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#render_svg_8947 g.classGroup text{fill:#9370DB;fill:#131300;stroke:none;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:10px;}#render_svg_8947 g.classGroup text .title{font-weight:bolder;}#render_svg_8947 .nodeLabel,#render_svg_8947 .edgeLabel{color:#131300;}#render_svg_8947 .edgeLabel .label rect{fill:#ECECFF;}#render_svg_8947 .label text{fill:#131300;}#render_svg_8947 .edgeLabel .label span{background:#ECECFF;}#render_svg_8947 .classTitle{font-weight:bolder;}#render_svg_8947 .node rect,#render_svg_8947 .node circle,#render_svg_8947 .node ellipse,#render_svg_8947 .node polygon,#render_svg_8947 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#render_svg_8947 .divider{stroke:#9370DB;stroke:1;}#render_svg_8947 g.clickable{cursor:pointer;}#render_svg_8947 g.classGroup rect{fill:#ECECFF;stroke:#9370DB;}#render_svg_8947 g.classGroup line{stroke:#9370DB;stroke-width:1;}#render_svg_8947 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#render_svg_8947 .classLabel .label{fill:#9370DB;font-size:10px;}#render_svg_8947 .relation{stroke:#333333;stroke-width:1;fill:none;}#render_svg_8947 .dashed-line{stroke-dasharray:3;}#render_svg_8947 .dotted-line{stroke-dasharray:1 2;}#render_svg_8947 #compositionStart,#render_svg_8947 .composition{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#render_svg_8947 #compositionEnd,#render_svg_8947 .composition{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#render_svg_8947 #dependencyStart,#render_svg_8947 .dependency{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#render_svg_8947 #dependencyStart,#render_svg_8947 .dependency{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#render_svg_8947 #extensionStart,#render_svg_8947 .extension{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#render_svg_8947 #extensionEnd,#render_svg_8947 .extension{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#render_svg_8947 #aggregationStart,#render_svg_8947 .aggregation{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#render_svg_8947 #aggregationEnd,#render_svg_8947 .aggregation{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#render_svg_8947 #lollipopStart,#render_svg_8947 .lollipop{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#render_svg_8947 #lollipopEnd,#render_svg_8947 .lollipop{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#render_svg_8947 .edgeTerminals{font-size:11px;}#render_svg_8947 .classTitleText{text-anchor:middle;font-size:18px;fill:#333;}#render_svg_8947 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker aggregation classDiagram" id="classDiagram-aggregationStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" class="marker aggregation classDiagram" id="classDiagram-aggregationEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker extension classDiagram" id="classDiagram-extensionStart"><path d="M 1,7 L18,13 V 1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" class="marker extension classDiagram" id="classDiagram-extensionEnd"><path d="M 1,1 V 13 L18,7 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker composition classDiagram" id="classDiagram-compositionStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" class="marker composition classDiagram" id="classDiagram-compositionEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker dependency classDiagram" id="classDiagram-dependencyStart"><path d="M 5,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" class="marker dependency classDiagram" id="classDiagram-dependencyEnd"><path d="M 18,7 L9,13 L14,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker lollipop classDiagram" id="classDiagram-lollipopStart"><circle r="6" cy="7" cx="6" fill="white" stroke="black"/></marker></defs><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-start="url(#classDiagram-extensionStart)" style="fill:none" class="edge-pattern-solid relation" id="id1" d="M635.9406280517578,503.4411889781168L699.3093786239624,523.0009895753208C762.678129196167,542.5607901725247,889.4156303405762,581.6803913669324,957.9515242153884,606.9401919323473C1026.4874180902004,632.1999924977621,1036.8217046954157,643.5999924341837,1041.9888479980234,649.2999924023947L1047.1559913006308,654.9999923706055"/><path marker-start="url(#classDiagram-extensionStart)" style="fill:none" class="edge-pattern-solid relation" id="id2" d="M635.9406280517578,542.729576970704L660.9911495844523,555.7413129024767C686.0416711171468,568.7530488342494,736.1427141825358,594.7765206977948,761.1932357152303,620.9549237730714C786.2437572479248,647.133326848348,786.2437572479248,673.4666611353556,786.2437572479248,686.6333282788595L786.2437572479248,699.7999954223633"/><path marker-start="url(#classDiagram-extensionStart)" style="fill:none" class="edge-pattern-solid relation" id="id3" d="M436.87929522864516,586.5999927520752L436.36712223185845,592.299992720286C435.8549492350717,597.999992688497,434.83060324149824,609.3999926249186,434.3184302447116,628.2666597366333C433.8062572479248,647.133326848348,433.8062572479248,673.4666611353556,433.8062572479248,686.6333282788595L433.8062572479248,699.7999954223633"/><path marker-end="url(#classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-dashed relation" id="id4" d="M263.10313415527344,555.8592535227323L244.75365416208902,566.682710029167C226.40417416890463,577.5061665356017,189.7052141825358,599.1530795484709,171.3557341893514,619.4098696107629C153.006254196167,639.666659673055,153.006254196167,658.5333267847697,153.006254196167,667.9666603406271L153.006254196167,677.3999938964844"/><path marker-end="url(#classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-dashed relation" id="id5" d="M263.10313415527344,522.3811611869424L223.12136189142862,538.784299749342C183.13958962758383,555.1874383117417,103.17604509989421,587.993715436541,63.1942728360494,629.8135211424445C23.21250057220459,671.633326848348,23.21250057220459,722.4666611353556,23.21250057220459,773.2999954223633C23.21250057220459,824.133329709371,23.21250057220459,874.9666639963785,107.8489597638448,917.532377230364C192.48541895548502,960.0980904643493,361.75833733876544,994.3961826453124,446.3947965304057,1011.5452287357939L531.0312557220459,1028.6942748262754"/><path marker-start="url(#classDiagram-aggregationStart)" style="fill:none" class="edge-pattern-solid relation" id="id6" d="M278.3531303405762,236.79999923706055L278.3531303405762,242.4999992052714C278.3531303405762,248.19999917348227,278.3531303405762,259.599999109904,283.9315288082455,270.9999990463257C289.5099272759148,282.3999989827474,300.66672421125344,293.7999989191691,306.24512267892277,299.49999888737995L311.82352114659204,305.1999988555908"/><path marker-end="url(#classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-dashed relation" id="id7" d="M1154.3968811035156,891.5999984741211L1154.3968811035156,897.2999984423319C1154.3968811035156,902.9999984105428,1154.3968811035156,914.3999983469645,1076.8338607152302,937.0410698796405C999.270840326945,959.6821414123166,844.1447995503744,993.5642845412472,766.581779162089,1010.5053561057124L689.0187587738037,1027.4464276701776"/><path marker-end="url(#classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-dashed relation" id="id8" d="M786.2437572479248,846.7999954223633L786.2437572479248,859.9666625658671C786.2437572479248,873.133329709371,786.2437572479248,899.4666639963785,770.0395908355713,923.5667609473629C753.8354244232178,947.6668578983471,721.4270915985107,969.5337175133078,705.2229251861572,980.4671473207883L689.0187587738037,991.4005771282688"/><path marker-end="url(#classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-dashed relation" id="id9" d="M433.8062572479248,846.7999954223633L433.8062572479248,859.9666625658671C433.8062572479248,873.133329709371,433.8062572479248,899.4666639963785,450.0104236602783,923.5667609473629C466.21459007263184,947.6668578983471,498.62292289733887,969.5337175133078,514.8270893096924,980.4671473207883L531.0312557220459,991.4005771282688"/><path style="fill:none" class="edge-pattern-dotted relation" id="edgeNote10" d="M620.6906318664551,201.60000038146973L620.6906318664551,213.1666668256124C620.6906318664551,224.73333326975504,620.6906318664551,247.86666615804037,615.1122333987857,265.13333257039386C609.5338349311164,282.3999989827474,598.3770379957779,293.7999989191691,592.7986395281085,299.49999888737995L587.2202410604392,305.1999988555908"/><path style="fill:none" class="edge-pattern-dotted relation" id="edgeNote11" d="M278.3531303405762,62.20000076293945L278.3531303405762,66.36666742960612C278.3531303405762,70.53333409627278,278.3531303405762,78.86666742960612,278.3531303405762,87.20000076293945C278.3531303405762,95.53333409627278,278.3531303405762,103.86666742960612,278.3531303405762,108.03333409627278L278.3531303405762,112.20000076293945"/><path style="fill:none" class="edge-pattern-dotted relation" id="edgeNote12" d="M1178.3843812942505,472.99999618530273L1178.3843812942505,497.63332891464233C1178.3843812942505,522.2666616439819,1178.3843812942505,571.5333271026611,1177.4877993417292,601.8666598002116C1176.5912173892077,632.1999924977621,1174.7980534841652,643.5999924341837,1173.9014715316437,649.2999924023947L1173.0048895791224,654.9999923706055"/></g><g class="edgeLabels"><g transform="translate(1016.1531314849854, 620.7999925613403)" class="edgeLabel"><g transform="translate(-27.975000381469727, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="55.95000076293945"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">extends</span></span></div></foreignObject></g></g><g transform="translate(786.2437572479248, 620.7999925613403)" class="edgeLabel"><g transform="translate(-27.975000381469727, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="55.95000076293945"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">extends</span></span></div></foreignObject></g></g><g transform="translate(433.8062572479248, 620.7999925613403)" class="edgeLabel"><g transform="translate(-27.975000381469727, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="55.95000076293945"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">extends</span></span></div></foreignObject></g></g><g transform="translate(153.006254196167, 620.7999925613403)" class="edgeLabel"><g transform="translate(-15.21250057220459, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="30.42500114440918"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">uses</span></span></div></foreignObject></g></g><g transform="translate(23.21250057220459, 773.2999954223633)" class="edgeLabel"><g transform="translate(-15.21250057220459, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="30.42500114440918"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">uses</span></span></div></foreignObject></g></g><g transform="translate(278.3531303405762, 270.9999990463257)" class="edgeLabel"><g transform="translate(-29.89375114440918, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="59.78750228881836"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">contains</span></span></div></foreignObject></g></g><g transform="translate(1154.3968811035156, 925.7999982833862)" class="edgeLabel"><g transform="translate(-15.21250057220459, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="30.42500114440918"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">uses</span></span></div></foreignObject></g></g><g transform="translate(786.2437572479248, 925.7999982833862)" class="edgeLabel"><g transform="translate(-15.21250057220459, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="30.42500114440918"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">uses</span></span></div></foreignObject></g></g><g transform="translate(433.8062572479248, 925.7999982833862)" class="edgeLabel"><g transform="translate(-15.21250057220459, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="30.42500114440918"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">uses</span></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(449.5218811035156, 445.899995803833)" id="classid-AbstractMsgHandler-67" class="node default"><rect height="281.399995803833" width="372.8374938964844" y="-140.6999979019165" x="-186.4187469482422" class="outer title-state"/><line y2="-87.89999866485596" y1="-87.89999866485596" x2="186.4187469482422" x1="-186.4187469482422" class="divider"/><line y2="-27.09999942779541" y1="-27.09999942779541" x2="186.4187469482422" x1="-186.4187469482422" class="divider"/><g class="label"><foreignObject transform="translate( -37.90625, -133.1999979019165)" height="18.399999618530273" width="75.8125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">«abstract»</span></div></foreignObject><foreignObject transform="translate( -73.9312515258789, -110.79999828338623)" height="18.399999618530273" width="147.8625030517578" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">AbstractMsgHandler</span></div></foreignObject><foreignObject transform="translate( -178.9187469482422, -76.39999866485596)" height="18.399999618530273" width="182.625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-MessageDao messageDao</span></div></foreignObject><foreignObject transform="translate( -178.9187469482422, -53.999999046325684)" height="18.399999618530273" width="159.3874969482422"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-Class&lt;Req&gt; bodyClass</span></div></foreignObject><foreignObject transform="translate( -178.9187469482422, -19.59999942779541)" height="18.399999618530273" width="357.8374938964844"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+checkAndSaveMsg(ChatMessageReq, Long) : Long</span></div></foreignObject><foreignObject transform="translate( -178.9187469482422, 2.8000001907348633)" height="18.399999618530273" width="351.3000183105469"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+abstract getMsgTypeEnum() : MessageTypeEnum</span></div></foreignObject><foreignObject transform="translate( -178.9187469482422, 25.199999809265137)" height="18.399999618530273" width="311.2749938964844"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">#abstract checkMsg(Req, Long, Long) : void</span></div></foreignObject><foreignObject transform="translate( -178.9187469482422, 47.59999942779541)" height="18.399999618530273" width="281.9125061035156"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">#abstract saveMsg(Message, Req) : void</span></div></foreignObject><foreignObject transform="translate( -178.9187469482422, 69.99999904632568)" height="18.399999618530273" width="267.8374938964844"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+abstract showMsg(Message) : Object</span></div></foreignObject><foreignObject transform="translate( -178.9187469482422, 92.39999866485596)" height="18.399999618530273" width="306.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+abstract showReplyMsg(Message) : Object</span></div></foreignObject><foreignObject transform="translate( -178.9187469482422, 114.79999828338623)" height="18.399999618530273" width="316.7875061035156"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+abstract showContactMsg(Message) : String</span></div></foreignObject></g></g><g transform="translate(278.3531303405762, 174.5)" id="classid-MsgHandlerFactory-68" class="node default"><rect height="124.5999984741211" width="382.125" y="-62.29999923706055" x="-191.0625" class="outer title-state"/><line y2="-31.899999618530273" y1="-31.899999618530273" x2="191.0625" x1="-191.0625" class="divider"/><line y2="6.5" y1="6.5" x2="191.0625" x1="-191.0625" class="divider"/><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -70.9312515258789, -54.79999923706055)" height="18.399999618530273" width="141.8625030517578" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">MsgHandlerFactory</span></div></foreignObject><foreignObject transform="translate( -183.5625, -20.399999618530273)" height="18.399999618530273" width="367.125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-Map&lt;Integer, AbstractMsgHandler&gt; STRATEGY_MAP</span></div></foreignObject><foreignObject transform="translate( -183.5625, 14)" height="18.399999618530273" width="321.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+register(Integer, AbstractMsgHandler) : void</span></div></foreignObject><foreignObject transform="translate( -183.5625, 36.39999961853027)" height="18.399999618530273" width="358.0874938964844"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+getStrategyNoNull(Integer) : AbstractMsgHandler</span></div></foreignObject></g></g><g transform="translate(1154.3968811035156, 773.2999954223633)" id="classid-TextMsgHandler-69" class="node default"><rect height="236.59999656677246" width="302.4375" y="-118.29999828338623" x="-151.21875" class="outer title-state"/><line y2="-87.89999866485596" y1="-87.89999866485596" x2="151.21875" x1="-151.21875" class="divider"/><line y2="40.09999942779541" y1="40.09999942779541" x2="151.21875" x1="-151.21875" class="divider"/><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -59.09375, -110.79999828338623)" height="18.399999618530273" width="118.1875" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">TextMsgHandler</span></div></foreignObject><foreignObject transform="translate( -143.71875, -76.39999866485596)" height="18.399999618530273" width="182.625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-MessageDao messageDao</span></div></foreignObject><foreignObject transform="translate( -143.71875, -53.999999046325684)" height="18.399999618530273" width="151.08750915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-MsgCache msgCache</span></div></foreignObject><foreignObject transform="translate( -143.71875, -31.59999942779541)" height="18.399999618530273" width="159.40000915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-UserCache userCache</span></div></foreignObject><foreignObject transform="translate( -143.71875, -9.199999809265137)" height="18.399999618530273" width="214.78750610351562"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-UserInfoCache userInfoCache</span></div></foreignObject><foreignObject transform="translate( -143.71875, 13.199999809265137)" height="18.399999618530273" width="184.4875030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-IRoleService iRoleService</span></div></foreignObject><foreignObject transform="translate( -143.71875, 47.59999942779541)" height="18.399999618530273" width="287.4375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+getMsgTypeEnum() : MessageTypeEnum</span></div></foreignObject><foreignObject transform="translate( -143.71875, 69.99999904632568)" height="18.399999618530273" width="274.01251220703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+saveMsg(Message, TextMsgReq) : void</span></div></foreignObject><foreignObject transform="translate( -143.71875, 92.39999866485596)" height="18.399999618530273" width="203.9875030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+showMsg(Message) : Object</span></div></foreignObject></g></g><g transform="translate(786.2437572479248, 773.2999954223633)" id="classid-VideoMsgHandler-70" class="node default"><rect height="146.99999809265137" width="302.4375" y="-73.49999904632568" x="-151.21875" class="outer title-state"/><line y2="-43.09999942779541" y1="-43.09999942779541" x2="151.21875" x1="-151.21875" class="divider"/><line y2="-4.699999809265137" y1="-4.699999809265137" x2="151.21875" x1="-151.21875" class="divider"/><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -63.88125228881836, -65.99999904632568)" height="18.399999618530273" width="127.76250457763672" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">VideoMsgHandler</span></div></foreignObject><foreignObject transform="translate( -143.71875, -31.59999942779541)" height="18.399999618530273" width="182.625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-MessageDao messageDao</span></div></foreignObject><foreignObject transform="translate( -143.71875, 2.8000001907348633)" height="18.399999618530273" width="287.4375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+getMsgTypeEnum() : MessageTypeEnum</span></div></foreignObject><foreignObject transform="translate( -143.71875, 25.199999809265137)" height="18.399999618530273" width="286.51251220703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+saveMsg(Message, VideoMsgDTO) : void</span></div></foreignObject><foreignObject transform="translate( -143.71875, 47.59999942779541)" height="18.399999618530273" width="203.9875030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+showMsg(Message) : Object</span></div></foreignObject></g></g><g transform="translate(433.8062572479248, 773.2999954223633)" id="classid-ImgMsgHandler-71" class="node default"><rect height="146.99999809265137" width="302.4375" y="-73.49999904632568" x="-151.21875" class="outer title-state"/><line y2="-43.09999942779541" y1="-43.09999942779541" x2="151.21875" x1="-151.21875" class="divider"/><line y2="-4.699999809265137" y1="-4.699999809265137" x2="151.21875" x1="-151.21875" class="divider"/><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -56.01250076293945, -65.99999904632568)" height="18.399999618530273" width="112.0250015258789" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ImgMsgHandler</span></div></foreignObject><foreignObject transform="translate( -143.71875, -31.59999942779541)" height="18.399999618530273" width="182.625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-MessageDao messageDao</span></div></foreignObject><foreignObject transform="translate( -143.71875, 2.8000001907348633)" height="18.399999618530273" width="287.4375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+getMsgTypeEnum() : MessageTypeEnum</span></div></foreignObject><foreignObject transform="translate( -143.71875, 25.199999809265137)" height="18.399999618530273" width="272.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+saveMsg(Message, ImgMsgDTO) : void</span></div></foreignObject><foreignObject transform="translate( -143.71875, 47.59999942779541)" height="18.399999618530273" width="203.9875030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+showMsg(Message) : Object</span></div></foreignObject></g></g><g transform="translate(153.006254196167, 773.2999954223633)" id="classid-Message-72" class="node default"><rect height="191.7999973297119" width="159.16250610351562" y="-95.89999866485596" x="-79.58125305175781" class="outer title-state"/><line y2="-65.49999904632568" y1="-65.49999904632568" x2="79.58125305175781" x1="-79.58125305175781" class="divider"/><line y2="84.89999866485596" y1="84.89999866485596" x2="79.58125305175781" x1="-79.58125305175781" class="divider"/><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -30.325000762939453, -88.39999866485596)" height="18.399999618530273" width="60.650001525878906" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Message</span></div></foreignObject><foreignObject transform="translate( -72.08125305175781, -53.999999046325684)" height="18.399999618530273" width="57.63750076293945"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-Long id</span></div></foreignObject><foreignObject transform="translate( -72.08125305175781, -31.59999942779541)" height="18.399999618530273" width="93.8125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-Integer type</span></div></foreignObject><foreignObject transform="translate( -72.08125305175781, -9.199999809265137)" height="18.399999618530273" width="94.20000457763672"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-Long roomId</span></div></foreignObject><foreignObject transform="translate( -72.08125305175781, 13.199999809265137)" height="18.399999618530273" width="102.01250457763672"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-Long fromUid</span></div></foreignObject><foreignObject transform="translate( -72.08125305175781, 35.59999942779541)" height="18.399999618530273" width="144.16250610351562"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-MessageExtra extra</span></div></foreignObject><foreignObject transform="translate( -72.08125305175781, 57.999999046325684)" height="18.399999618530273" width="107.70000457763672"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">-String content</span></div></foreignObject></g></g><g transform="translate(610.0250072479248, 1044.6999950408936)" id="classid-MessageTypeEnum-73" class="node default"><rect height="169.39999771118164" width="157.9875030517578" y="-84.69999885559082" x="-78.9937515258789" class="outer title-state"/><line y2="-31.899999618530273" y1="-31.899999618530273" x2="78.9937515258789" x1="-78.9937515258789" class="divider"/><line y2="51.29999923706055" y1="51.29999923706055" x2="78.9937515258789" x1="-78.9937515258789" class="divider"/><g class="label"><foreignObject transform="translate( -53.931251525878906, -77.19999885559082)" height="18.399999618530273" width="107.86250305175781"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">«enumeration»</span></div></foreignObject><foreignObject transform="translate( -69.0250015258789, -54.79999923706055)" height="18.399999618530273" width="138.0500030517578" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">MessageTypeEnum</span></div></foreignObject><foreignObject transform="translate( -71.4937515258789, -20.399999618530273)" height="18.399999618530273" width="36.0625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">TEXT</span></div></foreignObject><foreignObject transform="translate( -71.4937515258789, 2)" height="18.399999618530273" width="43.025001525878906"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">VIDEO</span></div></foreignObject><foreignObject transform="translate( -71.4937515258789, 24.399999618530273)" height="18.399999618530273" width="26.625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">IMG</span></div></foreignObject><foreignObject transform="translate( -71.4937515258789, 58.79999923706055)" height="18.399999618530273" width="142.9875030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+getType() : Integer</span></div></foreignObject></g></g><g transform="translate(620.6906318664551, 174.5)" id="note0" class="node undefined"><rect height="54.20000076293945" width="202.5500030517578" y="-27.100000381469727" x="-101.2750015258789" ry="0" rx="0"/><g transform="translate(-93.7750015258789, -19.600000381469727)" style="" class="label"><foreignObject height="39.20000076293945" width="187.5500030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Template Method Pattern:<br />定义消息处理框架</span></div></foreignObject></g></g><g transform="translate(278.3531303405762, 35.10000038146973)" id="note1" class="node undefined"><rect height="54.20000076293945" width="219.5" y="-27.100000381469727" x="-109.75" ry="0" rx="0"/><g transform="translate(-102.25, -19.600000381469727)" style="" class="label"><foreignObject height="39.20000076293945" width="204.5"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Factory Pattern &amp; Singleton:<br />管理消息处理器实例</span></div></foreignObject></g></g><g transform="translate(1178.3843812942505, 445.899995803833)" id="note2" class="node undefined"><rect height="54.20000076293945" width="143" y="-27.100000381469727" x="-71.5" ry="0" rx="0"/><g transform="translate(-64, -19.600000381469727)" style="" class="label"><foreignObject height="39.20000076293945" width="128"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Strategy Pattern:<br />具体消息处理策略</span></div></foreignObject></g></g></g></g></g></svg>